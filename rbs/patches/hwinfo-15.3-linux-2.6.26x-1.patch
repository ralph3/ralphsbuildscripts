diff -Naur hwinfo-15.3/src/int10/i10_v86.c hwinfo-15.3.patched/src/int10/i10_v86.c
--- hwinfo-15.3/src/int10/i10_v86.c	2005-04-01 05:19:13.000000000 -0500
+++ hwinfo-15.3.patched/src/int10/i10_v86.c	2009-06-12 06:57:25.000000000 -0400
@@ -27,6 +27,13 @@
 #include <string.h>
 #ifdef __i386__
 #include <sys/vm86.h>
+  #if defined(__linux__) && !defined(TF_MASK)
+        #define TF_MASK X86_EFLAGS_TF
+        #define IF_MASK X86_EFLAGS_IF
+        #define NT_MASK X86_EFLAGS_NT
+        #define VIF_MASK X86_EFLAGS_VIF
+        #define VIP_MASK X86_EFLAGS_VIP
+  #endif
 #else
 #include "vm86_struct.h"
 #endif
